<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Test</title>
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<script type="text/x-handlebars" data-template-name="application">
  <div class="container">
        {{outlet}}
  </div>
  </script>
  <script type="text/x-handlebars" data-template-name="articles">
    <div class="container">
        {{#if articlesPresent}}

           <p>Number of articles = {{content.length}}</p>

          <table class="table table-hover">
              <tr>
                <th>Title</th>
                <th>Remove</th>
              </tr>
                {{#each article in model}}
              <tr>
                  <td><h2>{{#link-to "article" article}}{{article.title}}{{/link-to}}</h2></td>
                  <td><a href="#" {{action removeArticle article.id}}><img src="img/delete-icon.png" border="0"/></a></td>
              </tr>
            {{/each}}
          </table>

        {{else}}
             No articles present.
        {{/if}}
        <p>{{#link-to "new"}}<img src="img/add-icon.png"/> New article{{/link-to}}</p>
        {{outlet}}
    </div>
  </script>
  <script type="text/x-handlebars" data-template-name="article">
    <div class="container">
        <h2>{{title}}</h2>
        <p>{{body}}</p>
        <img {{bind-attr src=attachment}} alt="">
    </div>

  </script>
  <script type="text/x-handlebars" data-template-name="_articleForm" >
      <form class="form-horizontal">
      <div class="control-group">
        <label class="control-label" for="latitude">Title</label>
        <div class="controls">
          {{view Ember.TextField valueBinding="title"}}
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="longitude">Content</label>
        <div class="controls">
          {{view Ember.TextArea valueBinding="body"}}
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="accuracy">Attachment</label>
        <div class="controls">
          {{view Ember.TextField valueBinding="attachment"}}
        </div>
      </div>
    </form>
  </script>

  <script type="text/x-handlebars" data-template-name="new" >

      <h1>New Article</h1>
      {{partial "articleForm"}}
      <p>
        <button {{action updateItem this}}>Save</button>
      </p>
  </script>


  <script src="/js/jquery-1.9.1.js"></script>
  <script src="/js/handlebars-v1.3.0.js"></script>
  <script src="/js/ember-1.5.1.js"></script>
  <script src="/js/ember-data-1.0.0-beta.7.f87cba88.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>
